# net library
Документация в данный момент только на русском, так как библиотека находится в альфа разработке.
Примечание: Это не полная копия реального стека, здесь нет например CRC для проверки целосности пакетов, т.к. мод не нарушает содержимое пакетов(в данный момент), тоже самое и с флагами начала и конца слоя, здесь будет использоватся сериализация т.к. десеарилизация нативная и, следовательно, быстрая.

Всё взаимодействие происходит на порте `1`.

Термины:
- layer - слой [TCP/IP](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI) стека, хотя эталонным и считается [OSI](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI) стек, в реальности он соблюдается формально. Каждый стек в проэкте обозначается соим именем:
- drivers(OSI - L1) - физический уровень, предоставлен в моде "из коробки" в библиотеке реализованны "оболочки" для удобства. устройства - связанная карта, сетевая карта, беспроводная карта...(в теории возможно добавление своих устройств(полным эмулированием апи модема), но такие вещи как, например, корекцию ошибок реализуйте сами).
- LinkLayer(OSI - L2) - в процессе.

## подключение в коде:
`local net = require("asv").net`

## drivers
Уровень отвечающий за передачу данных, а также работу модема. Используется для прямой связи между устройствами.

Префикс модуля: `net.drivers`
### `broadcastViaAll(...)`
Отправка сообщения через все сетевые адаптеры доступные адаптеры. (порт - по умолчанию)\
`...` - данные для отправки.

### `broadcast(srcAddr, ...)`
Отправка сообщения через указанный сетевой адаптер. (порт - по умолчанию)\
`srcAddr` - Полный или частичный адрес адаптера. Если передан `nil` будет взято primary устройство.\
`...` - данные для отправки.

### `send(srcAddr, dstAddr, ...)`
Отправка сообщения через указанный сетевой адаптер на указанный узел. (порт - по умолчанию)\
`srcAddr` - Полный или частичный адрес адаптера. Если передан `nil` будет взято primary устройство.\
`dstAddr` - Полный адрес принимающей стороны.\
`...` - данные для отправки.